--- src/3rdparty/chromium/third_party/angle/src/tests/BUILD.gn.orig	2018-11-13 18:25:11 UTC
+++ src/3rdparty/chromium/third_party/angle/src/tests/BUILD.gn
@@ -117,7 +117,7 @@ test("angle_unittests") {
          ]
 }
 
-if (is_win || is_linux || is_mac || is_android) {
+if (is_win || is_linux || is_mac || is_android || is_bsd) {
   end2end_gypi = exec_script("//build/gypi_to_gn.py",
                              [
                                rebase_path("angle_end2end_tests.gypi"),
@@ -175,7 +175,7 @@ if (is_win || is_linux || is_mac || is_android) {
       angle_root + ":libANGLE_config",
     ]
 
-    if (is_linux && !is_component_build) {
+    if ((is_linux || is_bsd) && !is_component_build) {
       # Set rpath to find libEGL.so and libGLESv2.so even in a non-component build.
       configs += [ "//build/config/gcc:rpath_for_built_shared_libraries" ]
     }
@@ -236,7 +236,7 @@ if (is_win || is_linux || is_mac || is_android) {
       angle_root + ":libANGLE_config",
     ]
 
-    if (is_linux && !is_component_build) {
+    if ((is_linux || is_bsd) && !is_component_build) {
       # Set rpath to find libEGL.so and libGLESv2.so even in a non-component build.
       configs += [ "//build/config/gcc:rpath_for_built_shared_libraries" ]
     }
@@ -252,7 +252,7 @@ if (is_win || is_linux || is_mac || is_android) {
   }
 }
 
-if (is_win || is_linux || is_android || is_mac) {
+if (is_win || is_linux || is_android || is_mac || is_bsd) {
   perftests_gypi = exec_script("//build/gypi_to_gn.py",
                                [
                                  rebase_path("angle_perftests.gypi"),
@@ -552,7 +552,7 @@ if (build_angle_deqp_tests) {
     # Ask the system headers to expose all the regular function otherwise
     # dEQP doesn't compile and produces warnings about implicitly defined
     # functions.
-    if (is_linux) {
+    if (is_linux || is_bsd) {
       # This has to be GNU_SOURCE as on Linux dEQP uses syscall()
       defines += [ "_GNU_SOURCE" ]
     }
@@ -629,7 +629,7 @@ if (build_angle_deqp_tests) {
     if (is_win) {
       sources += rebase_path(deqp_gypi.deqp_libtester_sources_win, ".", "../..")
     }
-    if (is_linux || is_android || is_mac) {
+    if (is_linux || is_android || is_mac || is_bsd) {
       sources +=
           rebase_path(deqp_gypi.deqp_libtester_sources_unix, ".", "../..")
     }
@@ -754,7 +754,7 @@ if (build_angle_deqp_tests) {
         "$angle_root/third_party/deqp/src/data/",
       ]
 
-      if (is_linux && !is_component_build) {
+      if ((is_linux || is_bsd) && !is_component_build) {
         # Set rpath to find *.so files even in a non-component build.
         configs += [ "//build/config/gcc:rpath_for_built_shared_libraries" ]
       }
